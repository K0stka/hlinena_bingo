const runWhenReady=e=>{if(document.readyState&&"loading"!==document.readyState)try{e()}catch(t){console.error("runWhenReady error:",t)}else document.addEventListener("DOMContentLoaded",()=>{try{e()}catch(t){console.error("runWhenReady error:",t)}})},addResetButton=()=>{let e=document.createElement("button");e.id="hlinena-reset-button",e.type="button",e.innerHTML=`<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M3 21v-5h5"></path></svg><span style="margin-left: 6px;">Reset</span>`,Object.assign(e.style,{position:"fixed",right:"16px",bottom:"16px",padding:"10px 14px",backgroundColor:"rgba(24, 24, 27, 0.95)",border:"1px solid rgba(63, 63, 70, 0.8)",borderRadius:"8px",cursor:"pointer",zIndex:9999,boxShadow:"0 4px 24px rgba(0, 0, 0, 0.3), 0 2px 8px rgba(0, 0, 0, 0.15)",backdropFilter:"blur(12px)",fontFamily:"Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif",fontSize:"13px",fontWeight:"500",color:"#fafafa",display:"flex",alignItems:"center",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)",willChange:"transform, box-shadow, background-color"}),e.onclick=()=>{try{localStorage.removeItem("checked"),localStorage.removeItem("win")}catch(e){console.error("Failed to clear localStorage during reset",e)}document.cookie="hlinena_bingo_device_unique_seed=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",location.reload()},e.addEventListener("mouseenter",()=>{e.style.backgroundColor="rgba(39, 39, 42, 0.98)",e.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.4), 0 4px 12px rgba(0, 0, 0, 0.25)",e.style.transform="translateY(-1px)",e.style.borderColor="rgba(82, 82, 91, 0.9)"}),e.addEventListener("mouseleave",()=>{e.style.backgroundColor="rgba(24, 24, 27, 0.95)",e.style.boxShadow="0 4px 24px rgba(0, 0, 0, 0.3), 0 2px 8px rgba(0, 0, 0, 0.15)",e.style.transform="translateY(0)",e.style.borderColor="rgba(63, 63, 70, 0.8)"}),e.addEventListener("mousedown",()=>{e.style.transform="translateY(0) scale(0.98)"}),e.addEventListener("mouseup",()=>{e.style.transform="translateY(-1px) scale(1)"}),runWhenReady(()=>{document.getElementById("hlinena-reset-button")||document.body.appendChild(e)})};addResetButton(),window.findWinningBoardForWords=async function(e,t={}){let a=t.maxAttempts||2e4,n=t.seedPrefix||"hlinena-search-",r=!!t.verbose;if(!Array.isArray(e)||4!==e.length)throw Error("Please provide an array of exactly 4 words.");let i=e.map(e=>"string"==typeof e?e.trim():"");async function o(){try{let e=await fetch("script.js"),t=await e.text(),a=t.match(/let\s+dict\s*=\s*(\[[\s\S]*?\]);/m);if(a&&a[1]){let n=Function("'use strict'; return "+a[1])();if(Array.isArray(n))return n.map(e=>"string"==typeof e?e:String(e))}}catch(i){r&&console.error("Failed to fetch/parse script.js for dict:",i)}if(window.dict&&Array.isArray(window.dict))return[...window.dict];throw Error("Could not locate base dict. Ensure script.js is available or dict is exposed on window.")}let l=await o();for(let s of i)if(!l.includes(s))throw Error(`Word not found in dictionary: "${s}"`);let d=[];for(let c=0;c<4;c++)d.push([4*c+0,4*c+1,4*c+2,4*c+3]);for(let p=0;p<4;p++)d.push([0+p,4+p,8+p,12+p]);function $(e,t){let a=[...t],n=new Math.seedrandom(e);for(let r=0;r<a.length;++r){let i=Math.floor(n.quick()*a.length),o=a[i];a[i]=a[r],a[r]=o}return a.slice(0,16)}function g(e){let t=new Math.seedrandom(e),a=Array(16);for(let n=0;n<16;n++)a[n]=Math.floor(256*t.quick());a[6]=15&a[6]|64,a[8]=63&a[8]|128;let r=a.map(e=>e.toString(16).padStart(2,"0")).join("");return`${r.substr(0,8)}-${r.substr(8,4)}-${r.substr(12,4)}-${r.substr(16,4)}-${r.substr(20,12)}`}function b(e,t){let a=t.map(t=>e.indexOf(t));if(a.some(e=>-1===e))return null;let n=new Set(a);for(let r of d){let i=r.every(e=>n.has(e));if(i)return{positions:a,winningLine:r}}return null}d.push([0,5,10,15]),d.push([3,6,9,12]);for(let h=0;h<a;h++){let u=n+h,f=g(u),_=$(f,l),x=b(_,i);if(x)return r&&console.info(`Found seed after ${h+1} attempts:`,f),{seed:f,attempts:h+1,board:_,positions:x.positions,winningLineIndices:x.winningLine,apply:function(){let e=new Date;e.setHours(23,59,59,999);let t="; expires="+e.toGMTString();document.cookie="hlinena_bingo_device_unique_seed="+f+t+"; path=/";try{let a=Array(16).fill(!1);for(let n of x.winningLine)a[n]=!0;localStorage.setItem("checked",JSON.stringify(a)),localStorage.setItem("win",JSON.stringify(!1)),localStorage.setItem("hlinena_last_applied_seed",f)}catch(i){r&&console.error("Failed to set localStorage:",i)}setTimeout(()=>location.reload(),80)}}}return null};const createSearchUI=()=>{let e="hlinena-search-panel";if(document.getElementById(e))return;let t=document.createElement("div");t.id=e,t.id=e;let a=`@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');.hlinena-panel { position: fixed; left: 16px; bottom: 16px; width: 320px; padding: 16px; background: rgba(9, 9, 11, 0.95); border: 1px solid rgba(39, 39, 42, 0.8); border-radius: 12px; z-index: 9999; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 10px 25px -5px rgba(0, 0, 0, 0.25); font-size: 13px; font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; color: #fafafa; backdrop-filter: blur(16px); animation: slideInUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);transform-origin: bottom left;}@keyframes slideInUp {from {opacity: 0;transform: translateY(20px) scale(0.95);}to {opacity: 1;transform: translateY(0) scale(1);}}.hlinena-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 12px;border-bottom: 1px solid rgba(39, 39, 42, 0.6);}.hlinena-title { font-weight: 600; font-size: 15px; color: #fafafa;letter-spacing: -0.025em;}.hlinena-close { background: transparent; border: 0; color: #a1a1aa; cursor: pointer; font-size: 14px;width: 24px;height: 24px;border-radius: 6px;display: flex;align-items: center;justify-content: center;transition: all 0.15s ease;}.hlinena-close:hover {background: rgba(39, 39, 42, 0.8);color: #fafafa;}.hlinena-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; margin-bottom: 12px }.hlinena-select { width: 100%; padding: 12px 14px; border-radius: 10px; border: 1px solid rgba(209, 213, 219, 0.8); background: rgba(255, 255, 255, 0.9); font-size: 14px;font-family: inherit;transition: all 0.15s ease;appearance: none;background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat: no-repeat;background-position: right 12px center;background-size: 16px;padding-right: 40px;}.hlinena-select:focus {outline: none;border-color: #3b82f6;box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);}.hlinena-row { display: flex; gap: 8px; align-items: center; margin-bottom: 12px;padding: 8px 12px;background: rgba(24, 24, 27, 0.6);border-radius: 8px;border: 1px solid rgba(39, 39, 42, 0.6);}.hlinena-input { width: 100px; margin-left: auto; padding: 6px 10px; border-radius: 6px; border: 1px solid rgba(63, 63, 70, 0.8); background: rgba(24, 24, 27, 0.8);font-size: 13px;font-family: inherit;transition: all 0.15s ease;color: #fafafa;}.hlinena-input:focus {outline: none;border-color: #3b82f6;box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);background: rgba(24, 24, 27, 0.95);}.hlinena-input-label {font-size: 12px;color: #a1a1aa;font-weight: 500;}.hlinena-actions { display: flex; gap: 6px }.btn { padding: 8px 14px; border-radius: 6px; border: 0; cursor: pointer; font-weight: 500;font-size: 13px;font-family: inherit;transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);position: relative;overflow: hidden;}.btn:before {content: '';position: absolute;top: 0;left: -100%;width: 100%;height: 100%;background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);transition: left 0.5s;}.btn:hover:before {left: 100%;}.btn-primary { flex: 1; background: linear-gradient(135deg, #2563eb, #1d4ed8); color: #ffffff; box-shadow: 0 4px 14px rgba(37, 99, 235, 0.4), 0 2px 4px rgba(37, 99, 235, 0.2);}.btn-primary:hover {background: linear-gradient(135deg, #1d4ed8, #1e40af);box-shadow: 0 6px 20px rgba(37, 99, 235, 0.5), 0 4px 8px rgba(37, 99, 235, 0.3);transform: translateY(-1px);}.btn-secondary { background: rgba(39, 39, 42, 0.8); border: 1px solid rgba(63, 63, 70, 0.8); color: #fafafa;}.btn-secondary:hover {background: rgba(63, 63, 70, 0.9);border-color: rgba(82, 82, 91, 0.9);}.btn-ghost { background: transparent; color: #a1a1aa; border: 0 }.btn-ghost:hover {background: rgba(39, 39, 42, 0.6);color: #fafafa;}.btn-success { background: linear-gradient(135deg, #059669, #047857); color: #ffffff;box-shadow: 0 4px 14px rgba(5, 150, 105, 0.4), 0 2px 4px rgba(5, 150, 105, 0.2);}.btn-success:hover {background: linear-gradient(135deg, #047857, #065f46);box-shadow: 0 6px 20px rgba(5, 150, 105, 0.5), 0 4px 8px rgba(5, 150, 105, 0.3);transform: translateY(-1px);}.btn[disabled], .btn.disabled { opacity: 0.5; cursor: not-allowed;transform: none !important;box-shadow: none !important;}.btn[disabled]:before, .btn.disabled:before {display: none;}#hlinena-search-status { margin-top: 12px; font-size: 13px; color: #a1a1aa;padding: 8px 12px;border-radius: 6px;background: rgba(24, 24, 27, 0.6);border: 1px solid rgba(39, 39, 42, 0.6);min-height: 16px;}.hlinena-preview { display: grid; grid-template-columns: repeat(4, 1fr); gap: 4px; margin-top: 12px;padding: 12px;background: rgba(24, 24, 27, 0.6);border-radius: 8px;border: 1px solid rgba(39, 39, 42, 0.6);}.hlinena-preview > div { padding: 8px 4px; font-size: 11px; border-radius: 4px; border: 1px solid rgba(63, 63, 70, 0.6); background: rgba(39, 39, 42, 0.8); min-height: 32px; display: flex; align-items: center; justify-content: center;transition: all 0.2s ease;animation: fadeInScale 0.3s ease forwards;opacity: 0;transform: scale(0.9);color: #d4d4d8;text-align: center;line-height: 1.2;}@keyframes fadeInScale {to {opacity: 1;transform: scale(1);}}.hlinena-preview > div:nth-child(1) { animation-delay: 0.05s; }.hlinena-preview > div:nth-child(2) { animation-delay: 0.1s; }.hlinena-preview > div:nth-child(3) { animation-delay: 0.15s; }.hlinena-preview > div:nth-child(4) { animation-delay: 0.2s; }.hlinena-preview > div:nth-child(5) { animation-delay: 0.25s; }.hlinena-preview > div:nth-child(6) { animation-delay: 0.3s; }.hlinena-preview > div:nth-child(7) { animation-delay: 0.35s; }.hlinena-preview > div:nth-child(8) { animation-delay: 0.4s; }.hlinena-preview > div:nth-child(9) { animation-delay: 0.45s; }.hlinena-preview > div:nth-child(10) { animation-delay: 0.5s; }.hlinena-preview > div:nth-child(11) { animation-delay: 0.55s; }.hlinena-preview > div:nth-child(12) { animation-delay: 0.6s; }.hlinena-preview > div:nth-child(13) { animation-delay: 0.65s; }.hlinena-preview > div:nth-child(14) { animation-delay: 0.7s; }.hlinena-preview > div:nth-child(15) { animation-delay: 0.75s; }.hlinena-preview > div:nth-child(16) { animation-delay: 0.8s; }/* Custom Select Dropdown Styles */.custom-select {position: relative;display: inline-flex;width: auto;}.custom-select-trigger {padding: 8px 12px;border-radius: 6px;border: 1px solid rgba(63, 63, 70, 0.8);background: rgba(24, 24, 27, 0.8);font-size: 13px;font-family: inherit;cursor: pointer;transition: all 0.15s ease;display: inline-flex;align-items: center;justify-content: space-between;min-height: 32px;position: relative;min-width: 120px;}.custom-select-trigger:hover {border-color: rgba(82, 82, 91, 0.9);background: rgba(39, 39, 42, 0.9);}.custom-select-trigger.active {border-color: #3b82f6;box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);background: rgba(24, 24, 27, 0.95);}.custom-select-trigger.error {border-color: #ef4444;box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2);background: rgba(68, 10, 10, 0.6);}.custom-select-trigger.success {border-color: #059669;background: rgba(6, 78, 59, 0.6);}.custom-select-value {flex: 1;color: #fafafa;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}.custom-select-value.placeholder {color: #71717a;}.custom-select-arrow {width: 14px;height: 14px;transition: transform 0.2s ease;color: #a1a1aa;flex-shrink: 0;}.custom-select-trigger.active .custom-select-arrow {transform: rotate(180deg);color: #3b82f6;}/* Fullscreen dialog styles for the select (shadcn-like) */.custom-select-dropdown {position: fixed;inset: 0;display: block;z-index: 12000;pointer-events: none;opacity: 0;transition: opacity 200ms ease;}/* full-bleed overlay */.custom-select-dropdown .dialog-overlay {position: fixed;inset: 0;background: linear-gradient(rgba(3,7,18,0.6), rgba(3,7,18,0.6));backdrop-filter: blur(6px) saturate(120%);-webkit-backdrop-filter: blur(6px) saturate(120%);pointer-events: auto;}/* full screen panel that mimics shadcn dialog: header, body, footer */.custom-select-dropdown .dialog-panel {position: fixed;inset: 0;display: flex;flex-direction: column;height: 100vh;width: 100vw;background: rgba(9, 10, 12, 0.96);color: #e6e6e9;pointer-events: auto;overflow: hidden;}.dialog-panel .dialog-header {display: flex;align-items: center;justify-content: space-between;padding: 16px 20px;border-bottom: 1px solid rgba(63,63,70,0.6);gap: 12px;}.dialog-panel .dialog-title {font-weight: 600;font-size: 16px;letter-spacing: -0.01em;}.dialog-panel .dialog-body {padding: 12px 18px;overflow: auto;flex: 1 1 auto;display: flex;flex-direction: column;gap: 12px;}.dialog-panel .dialog-search {padding: 6px 0;}.dialog-panel .dialog-options {display: grid;grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));gap: 8px;}.dialog-panel .dialog-footer {padding: 12px 18px;border-top: 1px solid rgba(63,63,70,0.6);display: flex;justify-content: flex-end;gap: 8px;}.custom-select-dropdown.show {opacity: 1;pointer-events: all;}.custom-select-search {padding: 8px;border-bottom: 1px solid rgba(63, 63, 70, 0.6);}.custom-select-search input {width: 100%;padding: 6px 8px;border: 1px solid rgba(63, 63, 70, 0.8);border-radius: 4px;font-size: 12px;background: rgba(39, 39, 42, 0.8);transition: all 0.15s ease;color: #fafafa;}.custom-select-search input::placeholder {color: #71717a;}.custom-select-search input:focus {outline: none;border-color: #3b82f6;box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);background: rgba(39, 39, 42, 0.95);}.custom-select-options {overflow-y: auto;padding: 6px;display: grid;grid-template-columns: 1fr 1fr;gap: 6px;}.custom-select-option {padding: 6px 8px;cursor: pointer;border-radius: 4px;transition: all 0.15s ease;font-size: 13px;color: #d4d4d8;position: relative;}.custom-select-option:hover {background: rgba(59, 130, 246, 0.15);color: #bfdbfe;}.custom-select-option.selected {background: linear-gradient(135deg, #2563eb, #1d4ed8);color: white;font-weight: 500;}.custom-select-option.disabled {color: #52525b;cursor: not-allowed;background: rgba(39, 39, 42, 0.3);}.custom-select-option.disabled:hover {background: rgba(39, 39, 42, 0.3);color: #52525b;}.custom-select-option.highlighted {background: rgba(59, 130, 246, 0.2);color: #bfdbfe;}.custom-select-no-results {padding: 12px 8px;text-align: center;color: #71717a;font-size: 12px;font-style: italic;}.custom-select-validation-message {margin-top: 4px;font-size: 11px;color: #fca5a5;display: none;animation: fadeInShake 0.3s ease;}.custom-select-validation-message.show {display: block;}@keyframes fadeInShake {0% { opacity: 0; transform: translateX(-4px); }25% { transform: translateX(4px); }50% { transform: translateX(-2px); }75% { transform: translateX(2px); }100% { opacity: 1; transform: translateX(0); }}`,n=document.createElement("style");n.setAttribute("data-hlinena","panel-styles"),n.textContent=a,(document.head||document.documentElement).appendChild(n);let r=document.createElement("style");r.setAttribute("data-hlinena-extra","true"),r.textContent=`.hlinena-select-error { border-color: #ef4444 !important; }`,(document.head||document.documentElement).appendChild(r),t.className="hlinena-panel",t.innerHTML=`<div class="hlinena-header"><div class="hlinena-title">Bingo Board Search</div><button id="hlinena-clear-btn-top" class="hlinena-close" title="Close">✕</button></div><div class="hlinena-grid"><div class="hlinena-word-container" data-index="0"></div><div class="hlinena-word-container" data-index="1"></div><div class="hlinena-word-container" data-index="2"></div><div class="hlinena-word-container" data-index="3"></div></div><div class="hlinena-row"><label class="hlinena-input-label">Max attempts</label><input id="hlinena-max-attempts" class="hlinena-input" type="number" value="20000" /></div><div class="hlinena-actions"><button id="hlinena-search-btn" class="btn btn-primary"><span>Search</span></button><button id="hlinena-apply-btn" class="btn btn-success" disabled>Apply</button></div><div id="hlinena-search-status"></div><div id="hlinena-search-result"></div>`;let i=[],o=["","","",""];function l(e,t){if(!e)return!0;for(let a=0;a<o.length;a++)if(a!==t&&o[a]===e)return!1;return!0}function s(){i.forEach((e,t)=>{Array.from(e.options).forEach(e=>{if(!e.value)return;let a=!1;for(let n=0;n<o.length;n++)if(n!==t&&o[n]===e.value){a=!0;break}e.disabled=a})})}function d(){let e=new Set,t=new Set;o.forEach(a=>{a&&t.has(a)?e.add(a):a&&t.add(a)}),i.forEach((t,a)=>{let n=o[a];n&&e.has(n)?(t.classList.add("hlinena-select-error"),t.style.borderColor="#ef4444",t.style.boxShadow="0 0 0 3px rgba(239,68,68,0.08)",t.title="This word is already selected"):(t.classList.remove("hlinena-select-error"),t.style.borderColor="",t.style.boxShadow="",t.title="")})}async function c(){let e=[];try{let a=await fetch("script.js"),n=await a.text(),r=n.match(/let\s+dict\s*=\s*(\[[\s\S]*?\]);/m);if(r&&r[1]){let l=Function("'use strict'; return "+r[1])();Array.isArray(l)&&(e=l.map(e=>"string"==typeof e?e:String(e)))}}catch(c){window.dict&&Array.isArray(window.dict)&&(e=[...window.dict])}!e.length&&window.dict&&Array.isArray(window.dict)&&(e=[...window.dict]);let p=t.querySelectorAll(".hlinena-word-container");p.forEach((t,a)=>{let n=document.createElement("select");n.className="hlinena-select",n.dataset.index=a;let r=document.createElement("option");r.value="",r.text=`-- select word ${a+1} --`,r.disabled=!0,r.selected=!0,n.appendChild(r),e.forEach(e=>{let t=document.createElement("option");t.value=e,t.text=e,n.appendChild(t)}),o[a]="",n.addEventListener("change",e=>{let t=e.target.value;o[a]=t,s(),d()}),t.innerHTML="",t.appendChild(n),i.push(n)}),s()}runWhenReady(()=>{if(!document.body)return;document.getElementById(t.id)||document.body.appendChild(t),c().then(()=>{}).catch(e=>console.error("Failed to create custom selects:",e));let e=document.getElementById("hlinena-search-btn"),a=document.getElementById("hlinena-clear-btn-top"),n=document.getElementById("hlinena-apply-btn"),r=document.getElementById("hlinena-search-status"),i=document.getElementById("hlinena-search-result"),l=null;a&&(a.onclick=()=>{t.style.animation="slideOutDown 0.3s cubic-bezier(0.4, 0, 1, 1) forwards";let e=`@keyframes slideOutDown {to {opacity: 0;transform: translateY(20px) scale(0.95);}}`;if(!document.querySelector("style[data-slide-out]")){let a=document.createElement("style");a.setAttribute("data-slide-out","true"),a.textContent=e,document.head.appendChild(a)}setTimeout(()=>t.remove(),300)}),n&&(n.onclick=()=>{l&&"function"==typeof l.apply&&(n.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20,6 9,17 4,12"></polyline></svg><span style="margin-left: 8px;">Applied!</span>`,n.style.background="linear-gradient(135deg, #059669, #047857)",n.style.animation="none",n.disabled=!0,setTimeout(()=>{l.apply()},800))}),e&&(e.onclick=async()=>{let t=o.filter(Boolean),a=new Set(t);if(t.length!==a.size){r.innerText="Please ensure all selected words are different.",r.style.color="#fca5a5",r.style.background="rgba(68, 10, 10, 0.6)",r.style.borderColor="rgba(127, 29, 29, 0.6)",d();return}if(4!==t.length){r.innerText="Please select all 4 words.",r.style.color="#fca5a5",r.style.background="rgba(68, 10, 10, 0.6)",r.style.borderColor="rgba(127, 29, 29, 0.6)";return}let s=parseInt(document.getElementById("hlinena-max-attempts").value)||2e4;e.disabled=!0,e.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="animation: spin 1s linear infinite;"><path d="M21 12a9 9 0 11-6.219-8.56"></path></svg><span style="margin-left: 8px;">Searching...</span>`,e.style.background="linear-gradient(135deg, #6b7280, #4b5563)";let c=`@keyframes spin {from { transform: rotate(0deg); }to { transform: rotate(360deg); }}`;if(!document.querySelector("style[data-spin]")){let p=document.createElement("style");p.setAttribute("data-spin","true"),p.textContent=c,document.head.appendChild(p)}r.innerText="Searching for winning combination...",r.style.color="#6b7280",r.style.background="rgba(249, 250, 251, 0.6)",r.style.borderColor="rgba(229, 231, 235, 0.4)",n&&(n.disabled=!0),i.innerHTML="",l=null;try{let $=await window.findWinningBoardForWords(t,{maxAttempts:s,verbose:!1});if(e.disabled=!1,e.innerHTML="<span>Search</span>",e.style.background="linear-gradient(135deg, #3b82f6, #1d4ed8)",!$){r.innerText=`No winning combination found in ${s} attempts.`,r.style.color="#fca5a5",r.style.background="rgba(68, 10, 10, 0.6)",r.style.borderColor="rgba(127, 29, 29, 0.6)";return}r.innerText=`✅ Found winning combination in ${$.attempts} attempts! (seed: ${$.seed})`,r.style.color="#6ee7b7",r.style.background="rgba(6, 78, 59, 0.6)",r.style.borderColor="rgba(16, 185, 129, 0.4)",l=$,n&&(n.disabled=!1,n.style.animation="pulse 2s infinite");let g=`@keyframes pulse {0%, 100% { transform: scale(1); }50% { transform: scale(1.05); }}`;if(!document.querySelector("style[data-pulse]")){let b=document.createElement("style");b.setAttribute("data-pulse","true"),b.textContent=g,document.head.appendChild(b)}let h=$.board,u=new Set($.winningLineIndices),f=document.createElement("div");f.className="hlinena-preview",h.forEach((e,t)=>{let a=document.createElement("div");a.innerText=e,u.has(t)&&(a.style.background="linear-gradient(135deg, #065f46, #059669)",a.style.borderColor="#10b981",a.style.color="#d1fae5",a.style.fontWeight="600",a.style.boxShadow="0 2px 8px rgba(16, 185, 129, 0.4)"),f.appendChild(a)}),i.innerHTML="",i.appendChild(f)}catch(_){e.disabled=!1,e.innerHTML="<span>Search</span>",e.style.background="linear-gradient(135deg, #3b82f6, #1d4ed8)",r.innerText="Error: "+(_&&_.message?_.message:String(_)),r.style.color="#fca5a5",r.style.background="rgba(68, 10, 10, 0.6)",r.style.borderColor="rgba(127, 29, 29, 0.6)",console.error(_)}})})};createSearchUI(),runWhenReady(()=>{try{let e=localStorage.getItem("checked");if(!e)return;let t=JSON.parse(e);if(!Array.isArray(t)||16!==t.length||"function"!=typeof window.check_win)return;let a=Date.now(),n=()=>{let e=document.querySelectorAll(".square");if(!e||e.length<16)return!1;for(let t=0;t<e.length;t++){let a=e[t].textContent||e[t].innerText||"";if(!a.trim())return!1}return!0},r=()=>{if(n()){try{window.check_win(t)}catch(e){console.error("injector: check_win threw:",e)}return}if(Date.now()-a>3e3){try{window.check_win(t)}catch(i){console.error("injector: check_win threw on final attempt:",i)}return}requestAnimationFrame(r)};r()}catch(i){console.error("injector: failed to parse checked array:",i)}});